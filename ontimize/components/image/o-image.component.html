<div layout="column" layout-align="center center" class="input-image relative" [formGroup]="form?.formGroup"
  [mdTooltip]="tooltip" [mdTooltipPosition]="tooltipPosition" [mdTooltipShowDelay]="tooltipShowDelay">
  <div layout="row" layout-fill layout-align="end center" class="input-image-container">
    <input mdInput #inputControl [formControlName]="oattr" type="text" [attr.id]="oattr" [id]="oattr"
      [ngModel]="getValue()" (ngModelChange)="innerOnChange($event)"
      class="mat-input input-control" >
    <input [hidden]="!showControls" class="mat-primary" #input type="file"
      (change)="fileChange(input, titleLabel)" class="input-file" />
    <label *ngIf="showControls" #titleLabel (click)="input.click()">{{ 'CHOOSE_FILE' | oTranslate }}</label>
    <span *ngIf="showControls" class="icon-btn" [class.mat-disabled]="isDisabled" (click)="input.click()"><i class="material-icons">search</i></span>
    <span *ngIf="showControls" class="icon-btn" [class.mat-disabled]="isDisabled" (click)="onClickClear($event, titleLabel)"><i class="material-icons">clear</i></span>
  </div>
  <div layout="row" class="input-image-preview" layout-align="center center">
    <img *ngIf="!(isEmpty())"
      [src]="getSrcValue()"
      alt="" (click)="input.click()" />
    <md-icon class="empty-icon" [class.mat-disabled]="isDisabled" aria-label="empty image"
      *ngIf="isEmpty() && useEmptyIcon" (click)="input.click()">{{ emptyicon }}</md-icon>
    <img [src]="getSrcValue()" alt="empty image" *ngIf="isEmpty() && useEmptyImage" (click)="input.click()" />
  </div>
  <div *ngIf="isReadOnly" layout-fill class="read-only-blocker" (click)="onClickBlocker($event)" ></div>
</div>

<!--(ngModelChange)="innerOnChange($event)"-->