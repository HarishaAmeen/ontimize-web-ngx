$mat-checkbox-size-medium: 18px !default;
$_mat-checkbox-mark-stroke-size-medim: 2 / 15 * $mat-checkbox-size-medium !default;

$mat-checkbox-size-small: 16px !default;
$_mat-checkbox-mark-stroke-size-small: 2 / 15 * $mat-checkbox-size-small !default;

.o-table {
  align-items: normal!important;

  .o-table-container {

    .fill-remaining {
      flex: 1 1 auto;
    }

    display: block;
    max-width: 100%;
    height: 100%;

    overflow: hidden;
    position: relative;
    margin: 0 0.5%;

    .mat-column-select {
      min-height: inherit;
      max-width: 20px;
      display: flex;
      align-items: center;
    }
    .mat-table {

      &.small {
        .mat-header-row {
          min-height: 32px;
          max-height: 32px;
          line-height: 32px;
        }
        .mat-row {
          min-height: 28px;
          max-height: 28px;
          .mat-cell {
            .image-avatar {
              width: 22px;
              height: 22px;
            }
          }
        }
        .mat-checkbox-inner-container {
          height: $mat-checkbox-size-small;
          width: $mat-checkbox-size-small;
          .mat-checkbox-checkmark-path {
            width: $_mat-checkbox-mark-stroke-size-small;
          }
          .mat-checkbox-mixedmark {
            height: floor($_mat-checkbox-mark-stroke-size-small);
          }
        }
      }

      &.medium {
        .mat-header-row {
          min-height: 40px;
          max-height: 40px;
          line-height: 40px;
        }
        .mat-row {
          min-height: 36px;
          max-height: 36px;
          .mat-cell {
            .image-avatar {
              width: 28px;
              height: 28px;
            }
          }
        }
        .mat-checkbox-inner-container {
          height: $mat-checkbox-size-medium;
          width: $mat-checkbox-size-medium;
          .mat-checkbox-checkmark-path {
            width: $_mat-checkbox-mark-stroke-size-medim;
          }
          .mat-checkbox-mixedmark {
            height: floor($_mat-checkbox-mark-stroke-size-medim);
          }
        }
      }

      &.large {
        .mat-header-row {
          min-height: 52px;
          max-height: 52px;
          line-height: 52px;
        }
        .mat-row {
          min-height: 48px;
          max-height: 48px;
        }
      }

      .mat-header-row {
        line-height: 48px;
        .mat-header-cell {

          &:not(.mat-sort-header-sorted) {
            .mat-sort-header-button {
              padding-right: 16px;
            }
          }

          .mat-sort-header-button {
            margin-left: auto;
            margin-right: auto;
            max-width: calc(100% - 48px);
            overflow: hidden;
            white-space: nowrap;
            text-overflow: ellipsis;
          }

          .mat-sort-header-arrow  {
            margin-top: auto;
            margin-bottom: auto;
          }
        }
      }

      .mat-row {
        box-sizing: border-box;
        transition: background-color .2s;

        &:last-child {
          border-bottom: none;
        }

        .mat-cell {
          .image-avatar {
            width:34px;
            height: 34px;
            margin: 1px auto;
            overflow: hidden;
            border-radius: 50%;
            position: relative;
            z-index: 1;
            img {
              position: absolute;
              top: 50%;
              left: 50%;
              -webkit-transform: translate(-50%, -50%);
              -moz-transform: translate(-50%, -50%);
              -ms-transform: translate(-50%, -50%);
              -o-transform: translate(-50%, -50%);
              transform: translate(-50%, -50%);
              width: 100%;
              max-width: inherit;
              max-height: inherit;
            }
          }
        }
      }

      .mat-cell,
      .mat-header-cell {
        padding: 0 12px;
        overflow: hidden;
        white-space: nowrap;
        text-overflow: ellipsis;
      }
    }

    &.disabled {

      // .dt-buttons {
      //   display: none;
      // }

      thead {
        tr {
          &::before {
            display: none;
          }
        }
      }

      tbody {
        tr {
          &:not(.group)::before {
            display: none;
          }
          &.selected::before {
            display: none;
          }
          td {
            &.focus {
              outline: none;
            }
          }
        }
      }

      .dataTables_info .select-info {
        display: none;
      }

    }

    &.detail {
      tbody {
        tr:not(.insertRow) {
          td {
            cursor: pointer;
          }
        }
      }
    }

    .quickFilter {
      padding-right: 75px;
      .mat-form-field-flex {
        align-items: flex-end;
      }
    }

    .toolbar {
      margin-bottom: 4px;
      height: 40px;

      .buttons {

        margin: 0 10px 0 4px;

        button {
          text-decoration: none;
          outline: none;
          cursor: pointer;
          font-size: 14px;
          display: inline-block;
          margin: 0;
          padding:0;
          min-width:auto;
          border-radius: 0;
          height: 40px;
        }

        button:not(.hidden-action-text) {
          padding-right: 8px;
        }

        button.hidden-action-text:not(.disabled):hover {
          border-radius: 50%;
          .mat-button-focus-overlay{
            background-color: transparent;
          }
        }

        .mat-button {

          &.active {
            &::after {
              border-radius: 50%;
            }

            & > span {
              font-weight: bold;
            }
          }

          &.disabled {
            cursor: not-allowed;
          }

          &.custom-generic-action {
            &::after {
              font-family: 'Material Icons';
              content: attr(data-icon);
              font-size: 24px;
              line-height: 1;
              padding: 0 8px;
              font-feature-settings:'liga'

            }
          }

          &.generic-action,
          &.custom-generic-action {
            & > span {
              float: right;
              line-height: 40px;
            }
            &.hidden-action-text > .mat-button-wrapper > span {
              display: none;
            }
          }

          &.generic-action {

            &.generic-action-refresh::before {
              font-family: 'Material Icons';
              content: "autorenew";
              font-size: 24px;
              line-height: 40px;
              padding: 0 8px;
              font-feature-settings:'liga';
            }

            &.generic-action-delete::before {
              font-family: 'Material Icons';
              content: "delete";
              font-size: 24px;
              line-height: 40px;
              padding: 0 8px;
              font-feature-settings:'liga';
            }

            &.generic-action-add::before {
              font-family: 'Material Icons';
              content: "add";
              font-size: 24px;
              line-height: 40px;
              padding: 0 8px;
              font-feature-settings:'liga';
            }
          }
        }
      }

    }
  }
}

.o-table-menu {
  .o-table-option-active {
    md-icon {
      display:initial
    }
  }

  md-icon {
    display:none
  }

}
