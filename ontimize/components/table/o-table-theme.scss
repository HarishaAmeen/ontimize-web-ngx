@import 'node_modules/@angular/material/core/theming/theming';


@mixin o-table-theme($theme) {
  $primary: map-get($theme, primary);
  $accent: map-get($theme, accent);
  $warn: map-get($theme, warn);
  $background: map-get($theme, background);
  $foreground: map-get($theme, foreground);

    .o-table {
      border-width: 1px;
      border-style: solid;
      border-color: md-color($foreground, divider);

      input[type="checkbox" ]:focus {
        outline: none;
      }

      .o-table-container {

        .spinner-container {
          background-color: md-color($background, background);
        }

        &.disabled {
          tbody {
            tr {
              &.selected {
                background-color: transparent;
              }
            }
          }
        }

        .dt-buttons {

          a {
            color: md-color($foreground, secondary-text);
          }
          a:not(.hidden-action-text):not(.disabled):hover {
            background-color: md-color($background, hover);
          }

          a.hidden-action-text:not(.disabled):hover {
            background-color: md-color($background, hover);
          }

          .dt-button {

            &.active {
              color: md-color($foreground, secondary-text);

              &::after {
                background: #eee;
              }
            }

            &.disabled {
              color: md-color($background, disabled-button);
            }

          }

        }

        .dataTables_filter {
          color: md-color($foreground, secondary-text);

          input {
            background: transparent;
            color: md-color($foreground, secondary-text);
            border: 0px;
            border-bottom-width: 1px;
            border-bottom-style: solid;
            border-bottom-color: md-color($foreground, secondary-text);
          }

        }

        table {

          thead {

            tr {
              background-color: md-color($background, status-bar, 0.9);

              th {
                color: md-color($foreground, text);

                &:last-child:not(.o-table-column-action) {
                  border-left-width: 1px;
                  border-left-style: solid;
                  border-left-color: md-color($foreground, divider);
                }

                &:first-child:not(.o-table-column-select-checkbox) {
                  border-right-width: 1px;
                  border-right-style: solid;
                  border-right-color: md-color($foreground, divider);
                }

                &:nth-child(n+3):nth-last-child(n+2):not(.o-table-column-action) {
                  border-left-width: 1px;
                  border-left-style: solid;
                  border-left-color: md-color($foreground, divider);
                }

                &.sorting_desc::before,
                &.sorting_asc::after {
                  color: md-color($accent, 400);
                }

                &.grouping {
                  background: #eee;
                }

              }

            }

          }

          tbody {

            tr {

              &.selected {
                background-color: md-color($foreground, base, 0.18) !important;
              }

              &.even {
                background-color: md-color($background, hover);
              }

              &:not(.group):not(.empty):not(.insertRow):hover {
                background-color: md-color($foreground, base, 0.18) !important;
              }

              &:last-child.odd {

                td {
                  border-bottom-width: 1px;
                  border-bottom-style: solid;
                  border-bottom-color: md-color($foreground, divider)
                }

              }

              &.group {

                td {
                  color: rgba(0,0,0,.9);
                  border-top: 1px rgba(0, 0, 0, 0.12) solid;
                  border-bottom: 1px solid rgba(0,0,0,.9);
                }

              }

              &.editRow {
                input:not([type="checkbox"]) {
                  background: #f5f5f5;
                }
                select {
                  background: #f5f5f5;
                }
                &.selected {
                  select {
                    background-color: #fff;
                  }
                }
              }

              &.insertRow {
                td {
                  input:not([type="checkbox"]) {
                    background: #f5f5f5;
                  }
                  select {
                    background: #f5f5f5;
                  }
                }
              }

            }


            td {
              color: md-color($foreground, secondary-text);

              &.focus {
                outline-width: 1px;
                outline-style: solid;
                outline-color: md-color($accent, 200);
              }

              &.editing {
                outline-width: 1px;
                outline-style: solid;
                outline-color: md-color($accent, 200);
                background-color: md-color($background, background);
              }

              input {
                background-color: md-color($background, background);
              }

              input.select-row {
                background-color: transparent;
              }

              select {
                background-color: md-color($background, background);
              }

              &:last-child:not(.o-table-column-action) {
                border-left-width: 1px;
                border-left-style: solid;
                border-left-color: md-color($foreground, divider);
              }

              &:first-child:not(.o-table-column-action):not(.o-table-column-select-checkbox) {
                border-right-width: 1px;
                border-right-style: solid;
                border-right-color: md-color($foreground, divider);
              }

              &:nth-child(n+3):nth-last-child(n+2):not(.o-table-column-action) {
                border-left-width: 1px;
                border-left-style: solid;
                border-left-color: md-color($foreground, divider);
              }

              &.o-table-column-action {
                .o-table-row-action {
                  color: md-color($foreground, secondary-text);
                }
              }

            }

          }

        }

        .dataTables_length {

          color: md-color($foreground, secondary-text);

          select {
            color: md-color($foreground, secondary-text);
            background-color: md-color($background, dialog);
          }

        }

        .dataTables_info {
          color: md-color($foreground, secondary-text);
        }

        .dataTables_paginate {
          color: md-color($foreground, text);

          .paginate_button {

            &.disabled {
              color: md-color($foreground, disabled-text);
            }

          }

        }

      }

      .o-table-menu-button {
        color: md-color($foreground, secondary-text);
      }

      .JCLRgrip:not(.JCLRLastGrip):not(.JCLRdisabledGrip) {
        color: md-color($foreground, text);
      }

      .JCLRgripDrag {
        border-width: 1px !important;
        border-style: solid !important;
        border-color:  md-color($foreground, divider) !important;
      }

    }

    div.dt-button-collection {
      background-color: white;
    }
    div.dt-button-collection button.dt-button,
    div.dt-button-collection div.dt-button,
    div.dt-button-collection a.dt-button {
      color: #000;
    }
    div.dt-button-collection a.dt-button:hover {
      background: #eee;
    }
    div.dt-button-background {
      background: rgba(0, 0, 0, 0.8);
    }

    .o-table .o-table-container table thead tr th,
    .o-table .o-table-container table tbody td {

      &.o-table-column-select-checkbox {

        .md-checkbox-inner-container {

            .md-checkbox-frame {
              background-color: transparent;
              border-width: 2px;
              border-style: solid;
              border-color: md-color($foreground, secondary-text);
            }

            .md-checkbox-background {
              background-color: md-color($accent);
            }
        }

      }
    }


}



